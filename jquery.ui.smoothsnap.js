// Generated by CoffeeScript 1.6.3
(function() {
  $.widget('ui.smoothsnap', {
    options: {
      snapTo: [1, 10, 50]
    },
    _create: function() {
      var snapTo, startPosition,
        _this = this;
      startPosition = 0;
      snapTo = this.options.snapTo.sort(function(a, b) {
        if (a < b) {
          return -1;
        }
        if (a > b) {
          return 1;
        }
        return 0;
      });
      this.element.on("slidestart", function(event, ui) {
        startPosition = ui.value;
        return _this._setStep(_this.element, snapTo[0]);
      });
      return this.element.on("slide", function(event, ui) {
        var _ref;
        if (_this._scrollAmount(startPosition, ui.value) <= snapTo[1]) {
          _this._setStep(_this.element, snapTo[0]);
        }
        if ((snapTo[1] < (_ref = _this._scrollAmount(startPosition, ui.value)) && _ref <= snapTo[2])) {
          _this._setStep(_this.element, snapTo[1]);
        }
        if (snapTo[2] < _this._scrollAmount(startPosition, ui.value)) {
          return _this._setStep(_this.element, snapTo[2]);
        }
      });
    },
    _scrollAmount: function(start, current) {
      return Math.abs(current - start);
    },
    _setStep: function(element, val) {
      return element.slider("option", "step", val);
    }
  });

}).call(this);
